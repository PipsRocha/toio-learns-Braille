!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=11)}([function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(19),i=r(20),o=r(21);function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,r){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return u(this,e,t,r)}function u(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=l(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(t,r),i=(e=a(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(c.isBuffer(t)){var r=0|f(t.length);return 0===(e=a(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?a(e,0):l(e,t);if("Buffer"===t.type&&o(t.data))return l(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function p(e,t){if(h(t),e=a(e,t<0?0:0|f(t)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function l(e,t){var r=t.length<0?0:0|f(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function f(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function d(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(e).length;default:if(n)return j(e).length;t=(""+t).toLowerCase(),n=!0}}function y(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return U(this,t,r);case"latin1":case"binary":return T(this,t,r);case"base64":return R(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){var o,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var h=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===c)return h*s}else-1!==h&&(o-=o-h),h=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){for(var p=!0,l=0;l<c;l++)if(u(e,o+l)!==u(t,l)){p=!1;break}if(p)return o}return-1}function _(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function b(e,t,r,n){return H(j(t,e.length-r),e,r,n)}function S(e,t,r,n){return H(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return S(e,t,r,n)}function C(e,t,r,n){return H(G(t),e,r,n)}function E(e,t,r,n){return H(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function R(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,c,u=e[i],h=null,p=u>239?4:u>223?3:u>191?2:1;if(i+p<=r)switch(p){case 1:u<128&&(h=u);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(h=c);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(h=c);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(h=c)}null===h?(h=65533,p=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),i+=p}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,r){return u(null,e,t,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,r){return function(e,t,r,n){return h(t),t<=0?a(e,t):void 0!==r?"string"==typeof n?a(e,t).fill(r,n):a(e,t).fill(r):a(e,t)}(null,e,t,r)},c.allocUnsafe=function(e){return p(null,e)},c.allocUnsafeSlow=function(e){return p(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=c.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):y.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,r,n,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),u=this.slice(n,i),h=e.slice(t,r),p=0;p<a;++p)if(u[p]!==h[p]){o=u[p],s=h[p];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":return S(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return C(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function T(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function D(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=F(e[o]);return i}function I(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function P(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function L(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function x(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function B(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function M(e,t,r,n,o){return o||B(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function k(e,t,r,n,o){return o||B(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;r=new c(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},c.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||P(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||P(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||P(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||P(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||O(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||O(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):x(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):x(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,r){return M(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return M(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return k(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return k(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=c.isBuffer(e)?e:j(new c(e,n).toString()),a=s.length;for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function G(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(18))},function(e,t,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&g(e,"error",t,r)}(e,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function h(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function p(e,t,r,n){var i,o,s,a;if(u(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=h(e))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function d(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):m(i,i.length)}function y(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return h(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)o(c,this,t);else{var u=c.length,h=m(c,u);for(r=0;r<u;++r)o(h[r],this,t)}return!0},a.prototype.addListener=function(e,t){return p(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return p(this,e,t,!0)},a.prototype.once=function(e,t){return u(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,i,o,s;if(u(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return d(this,e,!0)},a.prototype.rawListeners=function(e){return d(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},a.prototype.listenerCount=y,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){function n(){var e;try{e=t.storage.debug}catch(e){}return e}(t=e.exports=r(36)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(){var e=arguments,r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return e;var n="color: "+this.color;e=[e[0],n,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,n),e},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(n())},function(e,t,r){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},i=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(a(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,s=String(e).replace(i,(function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),c=n[r];r<o;c=n[++r])y(c)||!b(c)?s+=" "+c:s+=" "+a(c);return s},t.deprecate=function(r,n){if(void 0!==e&&!0===e.noDeprecation)return r;if(void 0===e)return function(){return t.deprecate(r,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}};var o,s={};function a(e,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(r)?n.showHidden=r:r&&t._extend(n,r),v(n.showHidden)&&(n.showHidden=!1),v(n.depth)&&(n.depth=2),v(n.colors)&&(n.colors=!1),v(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),h(n,e,n.depth)}function c(e,t){var r=a.styles[t];return r?"["+a.colors[r][0]+"m"+e+"["+a.colors[r][1]+"m":e}function u(e,t){return e}function h(e,r,n){if(e.customInspect&&r&&C(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return g(i)||(i=h(e,i,n)),i}var o=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(g(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(m(t))return e.stylize(""+t,"number");if(d(t))return e.stylize(""+t,"boolean");if(y(t))return e.stylize("null","null")}(e,r);if(o)return o;var s=Object.keys(r),a=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),w(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return p(r);if(0===s.length){if(C(r)){var c=r.name?": "+r.name:"";return e.stylize("[Function"+c+"]","special")}if(_(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(S(r))return e.stylize(Date.prototype.toString.call(r),"date");if(w(r))return p(r)}var u,b="",E=!1,R=["{","}"];(f(r)&&(E=!0,R=["[","]"]),C(r))&&(b=" [Function"+(r.name?": "+r.name:"")+"]");return _(r)&&(b=" "+RegExp.prototype.toString.call(r)),S(r)&&(b=" "+Date.prototype.toUTCString.call(r)),w(r)&&(b=" "+p(r)),0!==s.length||E&&0!=r.length?n<0?_(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),u=E?function(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)T(t,String(s))?o.push(l(e,t,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(l(e,t,r,n,i,!0))})),o}(e,r,n,a,s):s.map((function(t){return l(e,r,n,a,t,E)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(u,b,R)):R[0]+b+R[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function l(e,t,r,n,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),T(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=y(r)?h(e,c.value,null):h(e,c.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),v(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function f(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function y(e){return null===e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function v(e){return void 0===e}function _(e){return b(e)&&"[object RegExp]"===E(e)}function b(e){return"object"==typeof e&&null!==e}function S(e){return b(e)&&"[object Date]"===E(e)}function w(e){return b(e)&&("[object Error]"===E(e)||e instanceof Error)}function C(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function R(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(v(o)&&(o=e.env.NODE_DEBUG||""),r=r.toUpperCase(),!s[r])if(new RegExp("\\b"+r+"\\b","i").test(o)){var n=e.pid;s[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else s[r]=function(){};return s[r]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=d,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=_,t.isObject=b,t.isDate=S,t.isError=w,t.isFunction=C,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(38);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function U(){var e=new Date,t=[R(e.getHours()),R(e.getMinutes()),R(e.getSeconds())].join(":");return[e.getDate(),A[e.getMonth()],t].join(" ")}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",U(),t.format.apply(t,arguments))},t.inherits=r(39),t._extend=function(e,t){if(!t||!b(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var D="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function I(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(D&&e[D]){var t;if("function"!=typeof(t=e[D]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,D,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),D&&Object.defineProperty(t,D,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=D,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,r).then((function(t){e.nextTick(s,null,t)}),(function(t){e.nextTick(I,t,s)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,n(t)),r}}).call(this,r(4))},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var c,u=[],h=!1,p=-1;function l(){h&&c&&(h=!1,c.length?u=c.concat(u):p=-1,u.length&&f())}function f(){if(!h){var e=a(l);h=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,h=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new d(e,t)),1!==u.length||h||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(14);t.Cube=n.Cube;var i=r(8);t.StandardId=i.StandardId,t.Note=i.Note},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=n(r(34)),s=r(5),a=function(){function e(t){void 0===t&&(t=e.DEFAULT_TIMEOUT_MS),this.timeoutMs=e.DEFAULT_TIMEOUT_MS,this.eventEmitter=new i.EventEmitter,this.timeoutTimer=null,this.timeoutMs=t}return e.prototype.start=function(){var e=this;o.default.on("stateChange",this.onStateChange.bind(this)),o.default.on("discover",this.onDiscover.bind(this));var t=[new Promise(this.executor.bind(this))];return this.timeoutMs>0&&t.push(this.createTimeoutPromise(this.timeoutMs)),this.eventEmitter.emit("start"),Promise.race(t).then((function(t){return e.stop(),(Array.isArray(t)?t:[t]).forEach((function(t){return e.eventEmitter.emit("discover",t)})),t}),(function(t){return e.stop(),Promise.reject(t)}))},e.prototype.stop=function(){null!==this.timeoutTimer&&clearTimeout(this.timeoutTimer),o.default.stopScanning(),o.default.removeListener("stateChange",this.onStateChange),o.default.removeListener("discover",this.onDiscover),this.eventEmitter.emit("stop")},e.prototype.on=function(e,t){return this.eventEmitter.on(e,t),this},e.prototype.off=function(e,t){return this.eventEmitter.removeListener(e,t),this},e.prototype.onStateChange=function(e){"poweredOn"===e?o.default.startScanning([s.Cube.TOIO_SERVICE_ID]):o.default.stopScanning()},e.prototype.createTimeoutPromise=function(e){var t=this;return new Promise((function(r,n){t.timeoutTimer=setTimeout(n,e)}))},e.DEFAULT_TIMEOUT_MS=0,e}();t.Scanner=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=function(e,t,r){return Math.max(Math.min(e,r),t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(15);t.IdCharacteristic=n.IdCharacteristic;var i=r(17);t.MotorCharacteristic=i.MotorCharacteristic;var o=r(23);t.LightCharacteristic=o.LightCharacteristic;var s=r(25);t.SoundCharacteristic=s.SoundCharacteristic;var a=r(26);t.SensorCharacteristic=a.SensorCharacteristic;var c=r(28);t.ButtonCharacteristic=c.ButtonCharacteristic;var u=r(30);t.BatteryCharacteristic=u.BatteryCharacteristic;var h=r(32);t.ConfigurationCharacteristic=h.ConfigurationCharacteristic;var p=r(33);t.StandardId=p.StandardId;var l=r(9);t.Note=l.Note},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(7);!function(e){e[e.C0=0]="C0",e[e.CS0=1]="CS0",e[e.D0=2]="D0",e[e.DS0=3]="DS0",e[e.E0=4]="E0",e[e.F0=5]="F0",e[e.FS0=6]="FS0",e[e.G0=7]="G0",e[e.GS0=8]="GS0",e[e.A0=9]="A0",e[e.AS0=10]="AS0",e[e.B0=11]="B0",e[e.C1=12]="C1",e[e.CS1=13]="CS1",e[e.D1=14]="D1",e[e.DS1=15]="DS1",e[e.E1=16]="E1",e[e.F1=17]="F1",e[e.FS1=18]="FS1",e[e.G1=19]="G1",e[e.GS1=20]="GS1",e[e.A1=21]="A1",e[e.AS1=22]="AS1",e[e.B1=23]="B1",e[e.C2=24]="C2",e[e.CS2=25]="CS2",e[e.D2=26]="D2",e[e.DS2=27]="DS2",e[e.E2=28]="E2",e[e.F2=29]="F2",e[e.FS2=30]="FS2",e[e.G2=31]="G2",e[e.GS2=32]="GS2",e[e.A2=33]="A2",e[e.AS2=34]="AS2",e[e.B2=35]="B2",e[e.C3=36]="C3",e[e.CS3=37]="CS3",e[e.D3=38]="D3",e[e.DS3=39]="DS3",e[e.E3=40]="E3",e[e.F3=41]="F3",e[e.FS3=42]="FS3",e[e.G3=43]="G3",e[e.GS3=44]="GS3",e[e.A3=45]="A3",e[e.AS3=46]="AS3",e[e.B3=47]="B3",e[e.C4=48]="C4",e[e.CS4=49]="CS4",e[e.D4=50]="D4",e[e.DS4=51]="DS4",e[e.E4=52]="E4",e[e.F4=53]="F4",e[e.FS4=54]="FS4",e[e.G4=55]="G4",e[e.GS4=56]="GS4",e[e.A4=57]="A4",e[e.AS4=58]="AS4",e[e.B4=59]="B4",e[e.C5=60]="C5",e[e.CS5=61]="CS5",e[e.D5=62]="D5",e[e.DS5=63]="DS5",e[e.E5=64]="E5",e[e.F5=65]="F5",e[e.FS5=66]="FS5",e[e.G5=67]="G5",e[e.GS5=68]="GS5",e[e.A5=69]="A5",e[e.AS5=70]="AS5",e[e.B5=71]="B5",e[e.C6=72]="C6",e[e.CS6=73]="CS6",e[e.D6=74]="D6",e[e.DS6=75]="DS6",e[e.E6=76]="E6",e[e.F6=77]="F6",e[e.FS6=78]="FS6",e[e.G6=79]="G6",e[e.GS6=80]="GS6",e[e.A6=81]="A6",e[e.AS6=82]="AS6",e[e.B6=83]="B6",e[e.C7=84]="C7",e[e.CS7=85]="CS7",e[e.D7=86]="D7",e[e.DS7=87]="DS7",e[e.E7=88]="E7",e[e.F7=89]="F7",e[e.FS7=90]="FS7",e[e.G7=91]="G7",e[e.GS7=92]="GS7",e[e.A7=93]="A7",e[e.AS7=94]="AS7",e[e.B7=95]="B7",e[e.C8=96]="C8",e[e.CS8=97]="CS8",e[e.D8=98]="D8",e[e.DS8=99]="DS8",e[e.E8=100]="E8",e[e.F8=101]="F8",e[e.FS8=102]="FS8",e[e.G8=103]="G8",e[e.GS8=104]="GS8",e[e.A8=105]="A8",e[e.AS8=106]="AS8",e[e.B8=107]="B8",e[e.C9=108]="C9",e[e.CS9=109]="CS9",e[e.D9=110]="D9",e[e.DS9=111]="DS9",e[e.E9=112]="E9",e[e.F9=113]="F9",e[e.FS9=114]="FS9",e[e.G9=115]="G9",e[e.GS9=116]="GS9",e[e.A9=117]="A9",e[e.AS9=118]="AS9",e[e.B9=119]="B9",e[e.C10=120]="C10",e[e.CS10=121]="CS10",e[e.D10=122]="D10",e[e.DS10=123]="DS10",e[e.E10=124]="E10",e[e.F10=125]="F10",e[e.FS10=126]="FS10",e[e.G10=127]="G10",e[e.NO_SOUND=128]="NO_SOUND"}(t.Note||(t.Note={}));var i=function(){function t(){}return t.prototype.playPresetSound=function(t){var r=n.clamp(t,0,10);return{buffer:e.from([2,r,255]),data:{soundId:r}}},t.prototype.playSound=function(t,r){var i={operations:[],repeatCount:n.clamp(r,0,255),totalDurationMs:0},o=Math.min(t.length,59),s=e.alloc(3+3*o);s.writeUInt8(3,0),s.writeUInt8(i.repeatCount,1),s.writeUInt8(o,2);for(var a=0,c=0;c<o;c++){var u=t[c],h=n.clamp(u.durationMs/10,1,255),p=u.noteName;a+=h,i.operations.push({durationMs:10*h,noteName:p}),s.writeUInt8(h,3+3*c),s.writeUInt8(p,4+3*c),s.writeUInt8(255,5+3*c)}return i.totalDurationMs=10*a*i.repeatCount,{buffer:s,data:i}},t.prototype.stopSound=function(){return{buffer:e.from([1])}},t}();t.SoundSpec=i}).call(this,r(0).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(13);t.NearestScanner=n.NearestScanner;var i=r(50);t.NearScanner=i.NearScanner;var o=r(51);t.IdAddressScanner=o.IdAddressScanner;var s=r(6);t.Scanner=s.Scanner},function(e,t,r){"use strict";r.r(t);r(12);var n=r(10);let i=null,o=" ",s=document.getElementById("didactic-btn"),a=document.getElementById("interactive-btn");document.getElementById("connect").addEventListener("click",async()=>{document.getElementById("connect").innerText="Connecting...",i=await(new n.NearestScanner).start(),await i.connect(),document.getElementById("connect").innerText="Connected!",i.on("battery:battery",e=>console.log("[BATTERY]",e))}),document.getElementById("didactic-btn").addEventListener("click",async()=>{"false"===s.value&&"true"===a.value?(a.innerText="Interactive Mode",a.value="false",document.getElementById("interactive-title").style.visibility="hidden",document.getElementById("interactive-table").style.visibility="hidden",s.innerText="Leave",s.value="true",document.getElementById("didactic-title").style.visibility="visible"):"false"===s.value?(s.innerText="Leave",s.value="true",document.getElementById("didactic-title").style.visibility="visible"):(s.innerText="Didactic Mode",s.value="false",document.getElementById("didactic-title").style.visibility="hidden",i.stop(),i.off());let e=null;i.on("id:standard-id",t=>e=t),i.on("button:press",t=>{t.pressed&&(console.log("BTN",t.pressed),console.log("BTN",e.standardId),function(e){let t;switch(e){case 3670320:o+="0",t=new SpeechSynthesisUtterance("0"),speechSynthesis.speak(t),console.log("0");break;case 3670321:t=new SpeechSynthesisUtterance("1"),o+="1",console.log("1");break;case 3670322:t=new SpeechSynthesisUtterance("2"),speechSynthesis.speak(t),o+="2",console.log("2");break;case 3670323:t=new SpeechSynthesisUtterance("3"),speechSynthesis.speak(t),o+="3",console.log("3");break;case 3670324:t=new SpeechSynthesisUtterance("4"),speechSynthesis.speak(t),o+="4",console.log("4");break;case 3670325:t=new SpeechSynthesisUtterance("5"),speechSynthesis.speak(t),o+="5",console.log("5");break;case 3670326:t=new SpeechSynthesisUtterance("6"),speechSynthesis.speak(t),o+="6",console.log("6");break;case 3670327:t=new SpeechSynthesisUtterance("7"),speechSynthesis.speak(t),o+="7",console.log("7");break;case 3670328:t=new SpeechSynthesisUtterance("8"),speechSynthesis.speak(t),o+="8",console.log("8");break;case 3670329:t=new SpeechSynthesisUtterance("9"),speechSynthesis.speak(t),o+="9",console.log("9");break;case 3670337:t=new SpeechSynthesisUtterance("A"),speechSynthesis.speak(t),o+="A",console.log("A");break;case 3670338:t=new SpeechSynthesisUtterance("B"),speechSynthesis.speak(t),o+="B",console.log("B");break;case 3670339:t=new SpeechSynthesisUtterance("C"),speechSynthesis.speak(t),o+="C",console.log("C");break;case 3670340:t=new SpeechSynthesisUtterance("D"),speechSynthesis.speak(t),o+="D",console.log("D");break;case 3670341:t=new SpeechSynthesisUtterance("E"),speechSynthesis.speak(t),o+="E",console.log("E");break;case 3670342:t=new SpeechSynthesisUtterance("F"),speechSynthesis.speak(t),o+="F",console.log("F");break;case 3670343:t=new SpeechSynthesisUtterance("G"),speechSynthesis.speak(t),o+="G",console.log("G");break;case 3670344:t=new SpeechSynthesisUtterance("H"),speechSynthesis.speak(t),o+="H",console.log("H");break;case 3670345:t=new SpeechSynthesisUtterance("I"),speechSynthesis.speak(t),o+="I",console.log("I");break;case 3670346:t=new SpeechSynthesisUtterance("J"),speechSynthesis.speak(t),o+="J",console.log("J");break;case 3670347:t=new SpeechSynthesisUtterance("K"),speechSynthesis.speak(t),o+="K",console.log("K");break;case 3670348:t=new SpeechSynthesisUtterance("L"),speechSynthesis.speak(t),o+="L",console.log("L");break;case 3670349:t=new SpeechSynthesisUtterance("M"),speechSynthesis.speak(t),o+="M",console.log("M");break;case 3670350:t=new SpeechSynthesisUtterance("N"),speechSynthesis.speak(t),console.log("N"),o+="N";break;case 3670351:t=new SpeechSynthesisUtterance("O"),speechSynthesis.speak(t),console.log("O"),o+="O";break;case 3670352:t=new SpeechSynthesisUtterance("P"),speechSynthesis.speak(t),o+="P";break;case 3670353:t=new SpeechSynthesisUtterance("Q"),speechSynthesis.speak(t),o+="Q";break;case 3670354:t=new SpeechSynthesisUtterance("R"),speechSynthesis.speak(t),o+="R";break;case 3670355:t=new SpeechSynthesisUtterance("S"),speechSynthesis.speak(t),o+="S";break;case 3670356:t=new SpeechSynthesisUtterance("T"),speechSynthesis.speak(t),o+="T";break;case 3670357:t=new SpeechSynthesisUtterance("U"),speechSynthesis.speak(t),o+="U";break;case 3670358:t=new SpeechSynthesisUtterance("V"),speechSynthesis.speak(t),o+="V";break;case 3670359:t=new SpeechSynthesisUtterance("W"),speechSynthesis.speak(t),o+="W";break;case 3670360:t=new SpeechSynthesisUtterance("X"),speechSynthesis.speak(t),o+="X";break;case 3670361:t=new SpeechSynthesisUtterance("Y"),speechSynthesis.speak(t),o+="Y";break;case 3670362:console.log("Z"),t=new SpeechSynthesisUtterance("Z"),speechSynthesis.speak(t),o+="Z";break;case 3670070:console.log("space"),o+=" ";break;case 3670032:console.log("reading"+o),t=new SpeechSynthesisUtterance(""+o),speechSynthesis.speak(t);break;case 3670066:case 3670030:o="",i.playPresetSound(4),console.log("restart")}}(e.standardId)),console.log("BTN",t.pressed)})}),document.getElementById("interactive-btn").addEventListener("click",async()=>{"false"===a.value&&"true"===s.value?(s.innerText="Didactic Mode",s.value="false",document.getElementById("didactic-title").style.visibility="hidden",a.innerText="Leave",a.value="true",document.getElementById("interactive-title").style.visibility="visible",document.getElementById("interactive-table").style.visibility="visible"):"false"===a.value?(a.innerText="Leave",a.value="true",document.getElementById("interactivtitle").style.visibility="visible",document.getElementById("interactive-table").style.visibility="visible"):(a.innerText="Interactive Mode",a.value="false",document.getElementById("interactive-title").style.visibility="hidden",document.getElementById("interactive-table").style.visibility="hidden"),i.on("id:position-id",e=>{!function(e){let t="";switch(e){case e.x+-30<e.x<e.x+30&&e.y-30<e.y<e.y+30:console.log("Hospital"),t="Hospital",TextToSpeech.talk("sound_Hospital.mp3").play();break;case e.x-30<e.x<e.x+30&&e.y-30<e.y<e.y+30:console.log("Fruit Store"),t="FruitStore",TextToSpeech.talk("sound_FruitStore.mp3").play();break;case e.x-30<e.x<e.x+30&&e.y-30<e.y<e.y+30:console.log("Police Station"),t="PoliceStation",TextToSpeech.talk("sound_PoliceSt.mp3").play();break;case e.x-30<e.x<e.x+30&&e.y-30<e.y<e.y+30:console.log("Post Office"),t="PostOffice",TextToSpeech.talk("sound_PostOffice.mp3").play();break;case e.x-30<e.x<e.x+30&&e.y-30<e.y<e.y+30:console.log("Dress Shop"),t="DressShop",TextToSpeech.talk("sound_DressShop.mp3").play();break;case e.x-30<e.x<e.x+30&&e.y-30<e.y<e.y+30:console.log("Fire Station"),t="FireStation",TextToSpeech.talk("sound_FireSt.mp3").play();break;case e.x-30<e.x<e.x+30&&e.y-30<e.y<e.y+30:console.log("Garden"),t="Garden",TextToSpeech.talk("sound_Garden.mp3").play();break;case e.x-30<e.x<e.x+30&&e.y-30<e.y<e.y+30:console.log("Museum"),t="Museum",TextToSpeech.talk("sound_Museum.mp3").play();break;case e.x-30<e.x<e.x+30&&e.y-30<e.y<e.y+30:console.log("Ice Cream Shop"),t="IceCreamShop",TextToSpeech.talk("sound_IceCreamShop.mp3").play();break;case e.x-30<e.x<e.x+30&&e.y-30<e.y<e.y+30:console.log("Library"),t="Library",TextToSpeech.talk("sound_Library.mp3").play();break;case e.x-30<e.x<e.x+30&&e.y-30<e.y<e.y+30:console.log("School"),t="School",TextToSpeech.talk("sound_School.mp3").play();break;case e.x-30<e.x<e.x+30&&e.y-30<e.y<e.y+30:console.log("Coffee Shop"),t="CoffeeShop",TextToSpeech.talk("sound_Garden.mp3").play();break;case e.x-30<e.x<e.x+30&&e.y-30<e.y<e.y+30:console.log("Big House"),t="BigHouse",TextToSpeech.talk("sound_BigHouse.mp3").play();break;case e.x-30<e.x<e.x+30&&e.y-30<e.y<e.y+30:console.log("Small House"),t="Small House",TextToSpeech.talk("sound_SmallHouse.mp3").play()}}(e),console.log("[POS ID]","x:"+e.x+" y:"+e.y)}),document.getElementById("move-forward").addEventListener("touchstart",async()=>{i.playPresetSound(2),i.move(20,20,0)}),document.getElementById("move-backward").addEventListener("touchstart",async()=>i.move(-20,-20,0)),document.getElementById("move-left").addEventListener("touchstart",async()=>i.move(-20,20,0)),document.getElementById("move-right").addEventListener("touchstart",async()=>i.move(20,-20,0)),document.getElementById("interactive-table").addEventListener("touchstart",async e=>e.preventDefault()),document.getElementById("interactive-table").addEventListener("touchend",async()=>i.stop()),document.getElementById("interactive-table").addEventListener("touchend",async e=>e.preventDefault()),document.getElementById("move-forward").addEventListener("mousedown",async()=>{i.playPresetSound(2),i.move(20,20,0)}),document.getElementById("move-backward").addEventListener("mousedown",async()=>i.move(-20,-20,0)),document.getElementById("move-left").addEventListener("mousedown",async()=>i.move(-20,20,0)),document.getElementById("move-right").addEventListener("mousedown",async()=>i.move(20,-20,0)),document.getElementById("interactive-table").addEventListener("mouseup",async()=>i.stop()),document.getElementById("interactive-table").addEventListener("mouseleave",async()=>i.stop())})},function(e,t){if(/android/i.test(navigator.userAgent)){const e=(e,t=Promise.resolve())=>function(...r){const n=()=>e.apply(this,r);return t=t.then(n,n)},t=BluetoothRemoteGATTCharacteristic.prototype,r=Promise.resolve();t.startNotifications=e(t.startNotifications,r),t.readValue=e(t.readValue,r)}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),s=r(6),a=function(e){function t(r,n){void 0===r&&(r=t.SCAN_WINDOW_MS),void 0===n&&(n=s.Scanner.DEFAULT_TIMEOUT_MS);var i=e.call(this,n)||this;return i.scanWindowMs=t.SCAN_WINDOW_MS,i.nearestPeripheral=null,i.scanningIntervalTimer=null,i.scanWindowMs=r,i}return i(t,e),t.prototype.stop=function(){e.prototype.stop.call(this),null!==this.scanningIntervalTimer&&clearInterval(this.scanningIntervalTimer)},t.prototype.onDiscover=function(e){(null===this.nearestPeripheral||e.rssi>this.nearestPeripheral.rssi)&&(this.nearestPeripheral=e)},t.prototype.executor=function(e){var t=this;this.scanningIntervalTimer=setInterval((function(){null!==t.nearestPeripheral&&e(new o.Cube(t.nearestPeripheral))}),this.scanWindowMs)},t.SCAN_WINDOW_MS=1e3,t}(s.Scanner);t.NearestScanner=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=r(8);function o(){return Promise.reject("cannot discover the characteristic")}var s=function(){function e(e){this.eventEmitter=new n.EventEmitter,this.motorCharacteristic=null,this.lightCharacteristic=null,this.soundCharacteristic=null,this.sensorCharacteristic=null,this.buttonCharacteristic=null,this.batteryCharacteristic=null,this.configurationCharacteristic=null,this.peripheral=e}return Object.defineProperty(e.prototype,"id",{get:function(){return this.peripheral.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"address",{get:function(){return this.peripheral.address},enumerable:!0,configurable:!0}),e.prototype.connect=function(){var e=this;return new Promise((function(t,r){e.peripheral.connect((function(n){n?r(n):e.peripheral.discoverAllServicesAndCharacteristics((function(n,i,o){n?r(n):(o&&e.setCharacteristics(o),t(e))}))}))}))},e.prototype.on=function(e,t){return this.eventEmitter.on(e,t),this},e.prototype.off=function(e,t){return this.eventEmitter.removeListener(e,t),this},e.prototype.move=function(e,t,r){return void 0===r&&(r=0),null!==this.motorCharacteristic?this.motorCharacteristic.move(e,t,r):o()},e.prototype.stop=function(){null!==this.motorCharacteristic&&this.motorCharacteristic.stop()},e.prototype.turnOnLight=function(e){return null!==this.lightCharacteristic?this.lightCharacteristic.turnOnLight(e):o()},e.prototype.turnOnLightWithScenario=function(e,t){return void 0===t&&(t=0),null!==this.lightCharacteristic?this.lightCharacteristic.turnOnLightWithScenario(e,t):o()},e.prototype.turnOffLight=function(){null!==this.lightCharacteristic&&this.lightCharacteristic.turnOffLight()},e.prototype.playPresetSound=function(e){null!==this.soundCharacteristic&&this.soundCharacteristic.playPresetSound(e)},e.prototype.playSound=function(e,t){return void 0===t&&(t=0),null!==this.soundCharacteristic?this.soundCharacteristic.playSound(e,t):o()},e.prototype.stopSound=function(){null!==this.soundCharacteristic&&this.soundCharacteristic.stopSound()},e.prototype.getSlopeStatus=function(){return null!==this.sensorCharacteristic?this.sensorCharacteristic.getSlopeStatus():o()},e.prototype.getCollisionStatus=function(){return null!==this.sensorCharacteristic?this.sensorCharacteristic.getCollisionStatus():o()},e.prototype.getButtonStatus=function(){return null!==this.buttonCharacteristic?this.buttonCharacteristic.getButtonStatus():o()},e.prototype.getBatteryStatus=function(){return null!==this.batteryCharacteristic?this.batteryCharacteristic.getBatteryStatus():o()},e.prototype.getBLEProtocolVersion=function(){return null!==this.configurationCharacteristic?this.configurationCharacteristic.getBLEProtocolVersion():o()},e.prototype.setCharacteristics=function(e){var t=this;e.forEach((function(e){switch(e.uuid){case i.IdCharacteristic.UUID:new i.IdCharacteristic(e,t.eventEmitter);break;case i.MotorCharacteristic.UUID:t.motorCharacteristic=new i.MotorCharacteristic(e);break;case i.LightCharacteristic.UUID:t.lightCharacteristic=new i.LightCharacteristic(e);break;case i.SoundCharacteristic.UUID:t.soundCharacteristic=new i.SoundCharacteristic(e);break;case i.SensorCharacteristic.UUID:t.sensorCharacteristic=new i.SensorCharacteristic(e,t.eventEmitter);break;case i.ButtonCharacteristic.UUID:t.buttonCharacteristic=new i.ButtonCharacteristic(e,t.eventEmitter);break;case i.BatteryCharacteristic.UUID:t.batteryCharacteristic=new i.BatteryCharacteristic(e,t.eventEmitter);break;case i.ConfigurationCharacteristic.UUID:t.configurationCharacteristic=new i.ConfigurationCharacteristic(e)}}))},e.TOIO_SERVICE_ID="10b201005b3b45719508cf3efcd7bbae",e}();t.Cube=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(16),i=function(){function e(e,t){this.characteristic=e,this.characteristic.properties.includes("notify")&&(this.characteristic.on("data",this.onData.bind(this)),this.characteristic.subscribe()),this.eventEmitter=t}return e.prototype.onData=function(e){var t=new n.IdSpec;try{var r=t.parse(e);switch(r.dataType){case"id:position-id":case"id:standard-id":this.eventEmitter.emit(r.dataType,r.data);break;case"id:position-id-missed":case"id:standard-id-missed":this.eventEmitter.emit(r.dataType)}}catch(e){return}},e.UUID="10b201015b3b45719508cf3efcd7bbae",e}();t.IdCharacteristic=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.parse=function(e){if(e.byteLength<1)throw new Error("parse error");switch(e.readUInt8(0)){case 1:if(e.byteLength<11)break;return{buffer:e,data:{x:e.readUInt16LE(1),y:e.readUInt16LE(3),angle:e.readUInt16LE(5),sensorX:e.readUInt16LE(7),sensorY:e.readUInt16LE(9)},dataType:"id:position-id"};case 2:if(e.byteLength<7)break;return{buffer:e,data:{standardId:e.readUInt32LE(1),angle:e.readUInt16LE(5)},dataType:"id:standard-id"};case 3:return{buffer:e,dataType:"id:position-id-missed"};case 4:return{buffer:e,dataType:"id:standard-id-missed"}}throw new Error("parse error")},e}();t.IdSpec=n},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(22),i=function(){function t(e){this.spec=new n.MotorSpec,this.timer=null,this.pendingResolve=null,this.characteristic=e}return t.prototype.move=function(t,r,n){var i=this;this.timer&&(clearTimeout(this.timer),this.timer=null),this.pendingResolve&&(this.pendingResolve(),this.pendingResolve=null);var o=this.spec.move(t,r,n);if(this.characteristic.write(e.from(o.buffer),!1),o.data.durationMs>0)return new Promise((function(e){i.pendingResolve=e,i.timer=setTimeout((function(){i.pendingResolve&&(i.pendingResolve(),i.pendingResolve=null)}),o.data.durationMs)}))},t.prototype.stop=function(){this.move(0,0,0)},t.UUID="10b201025b3b45719508cf3efcd7bbae",t}();t.MotorCharacteristic=i}).call(this,r(0).Buffer)},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=u(e),s=n[0],a=n[1],c=new o(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),h=0,p=a>0?s-4:s;for(r=0;r<p;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],c[h++]=t>>16&255,c[h++]=t>>8&255,c[h++]=255&t;2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,c[h++]=255&t);1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,c[h++]=t>>8&255,c[h++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(h(e,s,s+16383>a?a:s+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function h(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,c=(1<<a)-1,u=c>>1,h=-7,p=r?i-1:0,l=r?-1:1,f=e[t+p];for(p+=l,o=f&(1<<-h)-1,f>>=-h,h+=a;h>0;o=256*o+e[t+p],p+=l,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=n;h>0;s=256*s+e[t+p],p+=l,h-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),o-=u}return(f?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,c,u=8*o-i-1,h=(1<<u)-1,p=h>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,d=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+p>=1?l/c:l*Math.pow(2,1-p))*c>=2&&(s++,c/=2),s+p>=h?(a=0,s=h):s+p>=1?(a=(t*c-1)*Math.pow(2,i),s+=p):(a=t*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;e[r+f]=255&a,f+=d,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+f]=255&s,f+=d,s/=256,u-=8);e[r+f-d]|=128*y}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),i=function(){function t(){}return t.prototype.move=function(t,r,i){void 0===i&&(i=0);var o=t>0?1:-1,s=r>0?1:-1,a=t>0?1:2,c=r>0?1:2,u=Math.min(Math.abs(t),100),h=Math.min(Math.abs(r),100),p=n.clamp(i/10,0,255);return{buffer:e.from([2,1,a,u,2,c,h,p]),data:{left:o*u,right:s*h,durationMs:10*p}}},t}();t.MotorSpec=i}).call(this,r(0).Buffer)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),i=function(){function t(e){this.spec=new n.LightSpec,this.timer=null,this.pendingResolve=null,this.characteristic=e}return t.prototype.turnOnLight=function(t){var r=this;if(!t)return Promise.reject("invalid argument: empty operation");this.timer&&(clearTimeout(this.timer),this.timer=null),this.pendingResolve&&(this.pendingResolve(),this.pendingResolve=null);var n=this.spec.turnOnLight(t);return this.characteristic.write(e.from(n.buffer),!1),n.data.durationMs>0?new Promise((function(e){r.pendingResolve=e,r.timer=setTimeout((function(){r.pendingResolve&&(r.pendingResolve(),r.pendingResolve=null)}),n.data.durationMs)})):void 0},t.prototype.turnOnLightWithScenario=function(t,r){var n=this;if(void 0===r&&(r=0),!t||0===t.length)return Promise.reject("invalid argument: empty operation");this.timer&&(clearTimeout(this.timer),this.timer=null),this.pendingResolve&&(this.pendingResolve(),this.pendingResolve=null);var i=this.spec.turnOnLightWithScenario(t,r);return this.characteristic.write(e.from(i.buffer),!1),i.data.totalDurationMs>0?new Promise((function(e){n.pendingResolve=e,n.timer=setTimeout((function(){n.pendingResolve&&(n.pendingResolve(),n.pendingResolve=null)}),i.data.totalDurationMs)})):void 0},t.prototype.turnOffLight=function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.pendingResolve&&(this.pendingResolve(),this.pendingResolve=null);var t=this.spec.turnOffLight();this.characteristic.write(e.from(t.buffer),!1)},t.UUID="10b201035b3b45719508cf3efcd7bbae",t}();t.LightCharacteristic=i}).call(this,r(0).Buffer)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),i=function(){function t(){}return t.prototype.turnOnLight=function(t){var r=n.clamp(t.durationMs/10,0,255),i=n.clamp(t.red,0,255),o=n.clamp(t.green,0,255),s=n.clamp(t.blue,0,255);return{buffer:e.from([3,r,1,1,i,o,s]),data:{durationMs:10*r,red:i,green:o,blue:s}}},t.prototype.turnOnLightWithScenario=function(t,r){var i={operations:[],repeatCount:n.clamp(r,0,255),totalDurationMs:0},o=Math.min(t.length,29),s=e.alloc(3+6*o);s.writeUInt8(4,0),s.writeUInt8(i.repeatCount,1),s.writeUInt8(o,2);for(var a=0,c=0;c<o;c++){var u=t[c],h=n.clamp(u.durationMs/10,1,255),p=n.clamp(u.red,0,255),l=n.clamp(u.green,0,255),f=n.clamp(u.blue,0,255);a+=h,i.operations.push({durationMs:10*h,red:p,green:l,blue:f}),s.writeUInt8(h,3+6*c),s.writeUInt8(1,4+6*c),s.writeUInt8(1,5+6*c),s.writeUInt8(p,6+6*c),s.writeUInt8(l,7+6*c),s.writeUInt8(f,8+6*c)}return i.totalDurationMs=10*a*i.repeatCount,{buffer:s,data:i}},t.prototype.turnOffLight=function(){return{buffer:e.from([1])}},t}();t.LightSpec=i}).call(this,r(0).Buffer)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),i=function(){function t(e){this.spec=new n.SoundSpec,this.timer=null,this.pendingResolve=null,this.characteristic=e}return t.prototype.playPresetSound=function(t){if(t){this.timer&&(clearTimeout(this.timer),this.timer=null),this.pendingResolve&&(this.pendingResolve(),this.pendingResolve=null);var r=this.spec.playPresetSound(t);this.characteristic.write(e.from(r.buffer),!1)}},t.prototype.playSound=function(t,r){var n=this;if(void 0===r&&(r=0),!t||0===t.length)return Promise.reject("invalid argument: empty operation");this.timer&&(clearTimeout(this.timer),this.timer=null),this.pendingResolve&&(this.pendingResolve(),this.pendingResolve=null);var i=this.spec.playSound(t,r);return this.characteristic.write(e.from(i.buffer),!1),i.data.totalDurationMs>0?new Promise((function(e){n.pendingResolve=e,n.timer=setTimeout((function(){n.pendingResolve&&(n.pendingResolve(),n.pendingResolve=null)}),i.data.totalDurationMs)})):void 0},t.prototype.stopSound=function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.pendingResolve&&(this.pendingResolve(),this.pendingResolve=null);var t=this.spec.stopSound();this.characteristic.write(e.from(t.buffer),!1)},t.UUID="10b201045b3b45719508cf3efcd7bbae",t}();t.SoundCharacteristic=i}).call(this,r(0).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(27),i=function(){function e(e,t){this.spec=new n.SensorSpec,this.prevStatus={isSloped:void 0,isCollisionDetected:void 0},this.characteristic=e,this.characteristic.properties.includes("notify")&&(this.characteristic.on("data",this.onData.bind(this)),this.characteristic.subscribe()),this.eventEmitter=t}return e.prototype.getSlopeStatus=function(){return this.read().then((function(e){return{isSloped:e.data.isSloped}}))},e.prototype.getCollisionStatus=function(){return this.read().then((function(e){return{isCollisionDetected:e.data.isCollisionDetected}}))},e.prototype.read=function(){var e=this;return new Promise((function(t,r){e.characteristic.read((function(n,i){if(n&&r(n),i)try{var o=e.spec.parse(i);return void t(o)}catch(e){return void r(e)}else r("cannot read any data from characteristic")}))}))},e.prototype.onData=function(e){try{var t=this.spec.parse(e);this.prevStatus.isSloped!==t.data.isSloped&&this.eventEmitter.emit("sensor:slope",{isSloped:t.data.isSloped}),this.prevStatus.isCollisionDetected!==t.data.isCollisionDetected&&this.eventEmitter.emit("sensor:collision",{isCollisionDetected:t.data.isCollisionDetected}),this.prevStatus=t.data}catch(e){return}},e.UUID="10b201065b3b45719508cf3efcd7bbae",e}();t.SensorCharacteristic=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.parse=function(e){if(e.byteLength<3)throw new Error("parse error");if(1!==e.readUInt8(0))throw new Error("parse error");var t=0===e.readUInt8(1),r=1===e.readUInt8(2);return{buffer:e,data:{isSloped:t,isCollisionDetected:r},dataType:"sensor:detection"}},e}();t.SensorSpec=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(29),i=function(){function e(e,t){this.spec=new n.ButtonSpec,this.characteristic=e,this.characteristic.properties.includes("notify")&&(this.characteristic.on("data",this.onData.bind(this)),this.characteristic.subscribe()),this.eventEmitter=t}return e.prototype.getButtonStatus=function(){return this.read().then((function(e){return{pressed:e.data.pressed}}))},e.prototype.read=function(){var e=this;return new Promise((function(t,r){e.characteristic.read((function(n,i){if(n)r(n);else if(i)try{var o=e.spec.parse(i);return void t(o)}catch(e){return void r(e)}else r("cannot read any data from characteristic")}))}))},e.prototype.onData=function(e){try{var t=this.spec.parse(e);this.eventEmitter.emit("button:press",{pressed:t.data.pressed})}catch(e){return}},e.UUID="10b201075b3b45719508cf3efcd7bbae",e}();t.ButtonCharacteristic=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.parse=function(e){if(e.byteLength<2)throw new Error("parse error");var t=e.readUInt8(0);if(1!==t)throw new Error("parse error");var r=0!==e.readUInt8(1);return{buffer:e,data:{id:t,pressed:r},dataType:"button:press"}},e}();t.ButtonSpec=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(31),i=function(){function e(e,t){this.spec=new n.BatterySpec,this.characteristic=e,this.characteristic.properties.includes("notify")&&(this.characteristic.on("data",this.onData.bind(this)),this.characteristic.subscribe()),this.eventEmitter=t}return e.prototype.getBatteryStatus=function(){return this.read().then((function(e){return e.data}))},e.prototype.read=function(){var e=this;return new Promise((function(t,r){e.characteristic.read((function(n,i){if(n)r(n);else if(i)try{var o=e.spec.parse(i);return void t(o)}catch(e){return void r(e)}else r("cannot read any data from characteristic")}))}))},e.prototype.onData=function(e){try{var t=this.spec.parse(e);this.eventEmitter.emit("battery:battery",t.data)}catch(e){return}},e.UUID="10b201085b3b45719508cf3efcd7bbae",e}();t.BatteryCharacteristic=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.parse=function(e){if(e.byteLength<1)throw new Error("parse error");var t=e.readUInt8(0);return{buffer:e,data:{level:t},dataType:"battery:battery"}},e}();t.BatterySpec=n},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=function(){function t(e){this.eventEmitter=new n.EventEmitter,this.characteristic=e,this.characteristic.properties.includes("notify")&&this.characteristic.on("data",this.onData.bind(this))}return t.prototype.getBLEProtocolVersion=function(){var t=this;return new Promise((function(r){t.characteristic.subscribe(),t.characteristic.write(e.from([1,0]),!1),t.eventEmitter.once("configuration:ble-protocol-version",(function(e){t.characteristic.unsubscribe(),r(e)}))}))},t.prototype.data2result=function(e){if(129!==e.readUInt8(0));else{var t=e.toString("utf-8",2,7);this.eventEmitter.emit("configuration:ble-protocol-version",t)}},t.prototype.onData=function(e){this.data2result(e)},t.UUID="10b201ff5b3b45719508cf3efcd7bbae",t}();t.ConfigurationCharacteristic=i}).call(this,r(0).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.CARD_TYPHOON=3670016]="CARD_TYPHOON",e[e.CARD_RUSH=3670054]="CARD_RUSH",e[e.CARD_AUTO_TACKLE=3670018]="CARD_AUTO_TACKLE",e[e.CARD_RANDOM=3670056]="CARD_RANDOM",e[e.CARD_TACKLE_POWER_UP=3670020]="CARD_TACKLE_POWER_UP",e[e.CARD_SWING_POWER_UP=3670058]="CARD_SWING_POWER_UP",e[e.CARD_SIDE_ATTACK=3670022]="CARD_SIDE_ATTACK",e[e.CARD_CHASING=3670060]="CARD_CHASING",e[e.CARD_LEFT=3670024]="CARD_LEFT",e[e.CARD_RIGHT=3670062]="CARD_RIGHT",e[e.CARD_FRONT=3670026]="CARD_FRONT",e[e.CARD_BACK=3670064]="CARD_BACK",e[e.CARD_GO=3670028]="CARD_GO",e[e.SKUNK_BLUE=3670078]="SKUNK_BLUE",e[e.SKUNK_GREEN=3670042]="SKUNK_GREEN",e[e.SKUNK_YELLOW=3670080]="SKUNK_YELLOW",e[e.SKUNK_ORANGE=3670044]="SKUNK_ORANGE",e[e.SKUNK_RED=3670082]="SKUNK_RED",e[e.SKUNK_BROWN=3670046]="SKUNK_BROWN",e[e.STICKER_SPEED_UP=3670066]="STICKER_SPEED_UP",e[e.STICKER_SPEED_DOWN=3670030]="STICKER_SPEED_DOWN",e[e.STICKER_WOBBLE=3670068]="STICKER_WOBBLE",e[e.STICKER_PANIC=3670032]="STICKER_PANIC",e[e.STICKER_SPIN=3670070]="STICKER_SPIN",e[e.STICKER_SHOCK=3670034]="STICKER_SHOCK",e[e.MARK_CRAFT_FIGHTER=3670048]="MARK_CRAFT_FIGHTER",e[e.MARK_RHYTHM_AND_GO=3670052]="MARK_RHYTHM_AND_GO",e[e.MARK_SKUNK_CHASER=3670086]="MARK_SKUNK_CHASER",e[e.MARK_FINGER_STRIKE=3670050]="MARK_FINGER_STRIKE",e[e.MARK_FINGER_STRIKE_1P=3670088]="MARK_FINGER_STRIKE_1P",e[e.MARK_FREE_MOVE=3670084]="MARK_FREE_MOVE"}(t.StandardId||(t.StandardId={}))},function(e,t,r){var n=r(35),i=r(47)();e.exports=new n(i)},function(e,t,r){(function(t){var n=r(2)("noble"),i=r(1),o=r(3),s=r(40),a=r(41),c=r(43),u=r(45);function h(e){this.initialized=!1,this.address="unknown",this._state="unknown",this._bindings=e,this._peripherals={},this._services={},this._characteristics={},this._descriptors={},this._discoveredPeripheralUUids=[],this._bindings.on("stateChange",this.onStateChange.bind(this)),this._bindings.on("addressChange",this.onAddressChange.bind(this)),this._bindings.on("scanStart",this.onScanStart.bind(this)),this._bindings.on("scanStop",this.onScanStop.bind(this)),this._bindings.on("discover",this.onDiscover.bind(this)),this._bindings.on("connect",this.onConnect.bind(this)),this._bindings.on("disconnect",this.onDisconnect.bind(this)),this._bindings.on("rssiUpdate",this.onRssiUpdate.bind(this)),this._bindings.on("servicesDiscover",this.onServicesDiscover.bind(this)),this._bindings.on("includedServicesDiscover",this.onIncludedServicesDiscover.bind(this)),this._bindings.on("characteristicsDiscover",this.onCharacteristicsDiscover.bind(this)),this._bindings.on("read",this.onRead.bind(this)),this._bindings.on("write",this.onWrite.bind(this)),this._bindings.on("broadcast",this.onBroadcast.bind(this)),this._bindings.on("notify",this.onNotify.bind(this)),this._bindings.on("descriptorsDiscover",this.onDescriptorsDiscover.bind(this)),this._bindings.on("valueRead",this.onValueRead.bind(this)),this._bindings.on("valueWrite",this.onValueWrite.bind(this)),this._bindings.on("handleRead",this.onHandleRead.bind(this)),this._bindings.on("handleWrite",this.onHandleWrite.bind(this)),this._bindings.on("handleNotify",this.onHandleNotify.bind(this)),this.on("warning",function(e){1===this.listeners("warning").length&&console.warn("noble: "+e)}.bind(this)),this.on("newListener",function(e){"stateChange"!==e||this.initialized||(this.initialized=!0,t.nextTick(function(){this._bindings.init()}.bind(this)))}.bind(this)),Object.defineProperties(this,{state:{get:function(){return this.initialized||(this.initialized=!0,this._bindings.init()),this._state}}})}o.inherits(h,i.EventEmitter),h.prototype.onStateChange=function(e){n("stateChange "+e),this._state=e,this.emit("stateChange",e)},h.prototype.onAddressChange=function(e){n("addressChange "+e),this.address=e},h.prototype.startScanning=function(e,t,r){var n=function(n){if("poweredOn"!==n){var i=new Error("Could not start scanning, state is "+n+" (not poweredOn)");if("function"!=typeof r)throw i;r(i)}else r&&this.once("scanStart",(function(e){r(null,e)})),this._discoveredPeripheralUUids=[],this._allowDuplicates=t,this._bindings.startScanning(e,t)};this.initialized?n.call(this,this._state):(this.initialized=!0,this._bindings.init(),this.once("stateChange",n.bind(this)))},h.prototype.onScanStart=function(e){n("scanStart"),this.emit("scanStart",e)},h.prototype.stopScanning=function(e){e&&this.once("scanStop",e),this._bindings&&this.initialized&&this._bindings.stopScanning()},h.prototype.onScanStop=function(){n("scanStop"),this.emit("scanStop")},h.prototype.onDiscover=function(e,t,r,n,i,o){var a=this._peripherals[e];if(a){for(var c in i)void 0!==i[c]&&(a.advertisement[c]=i[c]);a.connectable=n,a.rssi=o}else a=new s(this,e,t,r,n,i,o),this._peripherals[e]=a,this._services[e]={},this._characteristics[e]={},this._descriptors[e]={};var u=-1!==this._discoveredPeripheralUUids.indexOf(e);u||this._discoveredPeripheralUUids.push(e),!this._allowDuplicates&&u||this.emit("discover",a)},h.prototype.connect=function(e){this._bindings.connect(e)},h.prototype.onConnect=function(e,t){var r=this._peripherals[e];r?(r.state=t?"error":"connected",r.emit("connect",t)):this.emit("warning","unknown peripheral "+e+" connected!")},h.prototype.disconnect=function(e){this._bindings.disconnect(e)},h.prototype.onDisconnect=function(e){var t=this._peripherals[e];t?(t.state="disconnected",t.emit("disconnect")):this.emit("warning","unknown peripheral "+e+" disconnected!")},h.prototype.updateRssi=function(e){this._bindings.updateRssi(e)},h.prototype.onRssiUpdate=function(e,t){var r=this._peripherals[e];r?(r.rssi=t,r.emit("rssiUpdate",t)):this.emit("warning","unknown peripheral "+e+" RSSI update!")},h.prototype.discoverServices=function(e,t){this._bindings.discoverServices(e,t)},h.prototype.onServicesDiscover=function(e,t){var r=this._peripherals[e];if(r){for(var n=[],i=0;i<t.length;i++){var o=t[i],s=new a(this,e,o);this._services[e][o]=s,this._characteristics[e][o]={},this._descriptors[e][o]={},n.push(s)}r.services=n,r.emit("servicesDiscover",n)}else this.emit("warning","unknown peripheral "+e+" services discover!")},h.prototype.discoverIncludedServices=function(e,t,r){this._bindings.discoverIncludedServices(e,t,r)},h.prototype.onIncludedServicesDiscover=function(e,t,r){var n=this._services[e][t];n?(n.includedServiceUuids=r,n.emit("includedServicesDiscover",r)):this.emit("warning","unknown peripheral "+e+", "+t+" included services discover!")},h.prototype.discoverCharacteristics=function(e,t,r){this._bindings.discoverCharacteristics(e,t,r)},h.prototype.onCharacteristicsDiscover=function(e,t,r){var n=this._services[e][t];if(n){for(var i=[],o=0;o<r.length;o++){var s=r[o].uuid,a=new c(this,e,t,s,r[o].properties);this._characteristics[e][t][s]=a,this._descriptors[e][t][s]={},i.push(a)}n.characteristics=i,n.emit("characteristicsDiscover",i)}else this.emit("warning","unknown peripheral "+e+", "+t+" characteristics discover!")},h.prototype.read=function(e,t,r){this._bindings.read(e,t,r)},h.prototype.onRead=function(e,t,r,n,i){var o=this._characteristics[e][t][r];o?(o.emit("data",n,i),o.emit("read",n,i)):this.emit("warning","unknown peripheral "+e+", "+t+", "+r+" read!")},h.prototype.write=function(e,t,r,n,i){this._bindings.write(e,t,r,n,i)},h.prototype.onWrite=function(e,t,r){var n=this._characteristics[e][t][r];n?n.emit("write"):this.emit("warning","unknown peripheral "+e+", "+t+", "+r+" write!")},h.prototype.broadcast=function(e,t,r,n){this._bindings.broadcast(e,t,r,n)},h.prototype.onBroadcast=function(e,t,r,n){var i=this._characteristics[e][t][r];i?i.emit("broadcast",n):this.emit("warning","unknown peripheral "+e+", "+t+", "+r+" broadcast!")},h.prototype.notify=function(e,t,r,n){this._bindings.notify(e,t,r,n)},h.prototype.onNotify=function(e,t,r,n){var i=this._characteristics[e][t][r];i?i.emit("notify",n):this.emit("warning","unknown peripheral "+e+", "+t+", "+r+" notify!")},h.prototype.discoverDescriptors=function(e,t,r){this._bindings.discoverDescriptors(e,t,r)},h.prototype.onDescriptorsDiscover=function(e,t,r,n){var i=this._characteristics[e][t][r];if(i){for(var o=[],s=0;s<n.length;s++){var a=n[s],c=new u(this,e,t,r,a);this._descriptors[e][t][r][a]=c,o.push(c)}i.descriptors=o,i.emit("descriptorsDiscover",o)}else this.emit("warning","unknown peripheral "+e+", "+t+", "+r+" descriptors discover!")},h.prototype.readValue=function(e,t,r,n){this._bindings.readValue(e,t,r,n)},h.prototype.onValueRead=function(e,t,r,n,i){var o=this._descriptors[e][t][r][n];o?o.emit("valueRead",i):this.emit("warning","unknown peripheral "+e+", "+t+", "+r+", "+n+" value read!")},h.prototype.writeValue=function(e,t,r,n,i){this._bindings.writeValue(e,t,r,n,i)},h.prototype.onValueWrite=function(e,t,r,n){var i=this._descriptors[e][t][r][n];i?i.emit("valueWrite"):this.emit("warning","unknown peripheral "+e+", "+t+", "+r+", "+n+" value write!")},h.prototype.readHandle=function(e,t){this._bindings.readHandle(e,t)},h.prototype.onHandleRead=function(e,t,r){var n=this._peripherals[e];n?n.emit("handleRead"+t,r):this.emit("warning","unknown peripheral "+e+" handle read!")},h.prototype.writeHandle=function(e,t,r,n){this._bindings.writeHandle(e,t,r,n)},h.prototype.onHandleWrite=function(e,t){var r=this._peripherals[e];r?r.emit("handleWrite"+t):this.emit("warning","unknown peripheral "+e+" handle write!")},h.prototype.onHandleNotify=function(e,t,r){var n=this._peripherals[e];n?n.emit("handleNotify",t,r):this.emit("warning","unknown peripheral "+e+" handle notify!")},e.exports=h}).call(this,r(4))},function(e,t,r){(t=e.exports=function(e){function r(){}function i(){var e=i,r=+new Date,s=r-(n||r);e.diff=s,e.prev=n,e.curr=r,n=r,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=o());var a=Array.prototype.slice.call(arguments);a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var c=0;a[0]=a[0].replace(/%([a-z%])/g,(function(r,n){if("%%"===r)return r;c++;var i=t.formatters[n];if("function"==typeof i){var o=a[c];r=i.call(e,o),a.splice(c,1),c--}return r})),"function"==typeof t.formatArgs&&(a=t.formatArgs.apply(e,a));var u=i.log||t.log||console.log.bind(console);u.apply(e,a)}r.enabled=!1,i.enabled=!0;var s=t.enabled(e)?i:r;return s.namespace=e,s}).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e);for(var r=(e||"").split(/[\s,]+/),n=r.length,i=0;i<n;i++)r[i]&&("-"===(e=r[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(37),t.names=[],t.skips=[],t.formatters={};var n,i=0;function o(){return t.colors[i++%t.colors.length]}},function(e,t){var r=1e3,n=6e4,i=60*n,o=24*i;function s(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}e.exports=function(e,t){return t=t||{},"string"==typeof e?function(e){if((e=""+e).length>1e4)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s}}(e):t.long?s(a=e,o,"day")||s(a,i,"hour")||s(a,n,"minute")||s(a,r,"second")||a+" ms":function(e){return e>=o?Math.round(e/o)+"d":e>=i?Math.round(e/i)+"h":e>=n?Math.round(e/n)+"m":e>=r?Math.round(e/r)+"s":e+"ms"}(e);var a}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){(function(t){r(2)("peripheral");var n=r(1);function i(e,t,r,n,i,o,s){this._noble=e,this.id=t,this.uuid=t,this.address=r,this.addressType=n,this.connectable=i,this.advertisement=o,this.rssi=s,this.services=null,this.state="disconnected"}r(3).inherits(i,n.EventEmitter),i.prototype.toString=function(){return JSON.stringify({id:this.id,address:this.address,addressType:this.addressType,connectable:this.connectable,advertisement:this.advertisement,rssi:this.rssi,state:this.state})},i.prototype.connect=function(e){e&&this.once("connect",(function(t){e(t)})),"connected"===this.state?this.emit("connect",new Error("Peripheral already connected")):(this.state="connecting",this._noble.connect(this.id))},i.prototype.disconnect=function(e){e&&this.once("disconnect",(function(){e(null)})),this.state="disconnecting",this._noble.disconnect(this.id)},i.prototype.updateRssi=function(e){e&&this.once("rssiUpdate",(function(t){e(null,t)})),this._noble.updateRssi(this.id)},i.prototype.discoverServices=function(e,t){t&&this.once("servicesDiscover",(function(e){t(null,e)})),this._noble.discoverServices(this.id,e)},i.prototype.discoverSomeServicesAndCharacteristics=function(e,t,r){this.discoverServices(e,function(e,n){var i=0,o=[];for(var s in n){n[s].discoverCharacteristics(t,function(e,t){if(i++,null===e)for(var s in t){var a=t[s];o.push(a)}i===n.length&&r&&r(null,n,o)}.bind(this))}}.bind(this))},i.prototype.discoverAllServicesAndCharacteristics=function(e){this.discoverSomeServicesAndCharacteristics([],[],e)},i.prototype.readHandle=function(e,t){t&&this.once("handleRead"+e,(function(e){t(null,e)})),this._noble.readHandle(this.id,e)},i.prototype.writeHandle=function(e,r,n,i){if(!(r instanceof t))throw new Error("data must be a Buffer");i&&this.once("handleWrite"+e,(function(){i(null)})),this._noble.writeHandle(this.id,e,r,n)},e.exports=i}).call(this,r(0).Buffer)},function(e,t,r){r(2)("service");var n=r(1),i=r(3),o=r(42);function s(e,t,r){this._noble=e,this._peripheralId=t,this.uuid=r,this.name=null,this.type=null,this.includedServiceUuids=null,this.characteristics=null;var n=o[r];n&&(this.name=n.name,this.type=n.type)}i.inherits(s,n.EventEmitter),s.prototype.toString=function(){return JSON.stringify({uuid:this.uuid,name:this.name,type:this.type,includedServiceUuids:this.includedServiceUuids})},s.prototype.discoverIncludedServices=function(e,t){t&&this.once("includedServicesDiscover",(function(e){t(null,e)})),this._noble.discoverIncludedServices(this._peripheralId,this.uuid,e)},s.prototype.discoverCharacteristics=function(e,t){t&&this.once("characteristicsDiscover",(function(e){t(null,e)})),this._noble.discoverCharacteristics(this._peripheralId,this.uuid,e)},e.exports=s},function(e){e.exports=JSON.parse('{"1800":{"name":"Generic Access","type":"org.bluetooth.service.generic_access"},"1801":{"name":"Generic Attribute","type":"org.bluetooth.service.generic_attribute"},"1802":{"name":"Immediate Alert","type":"org.bluetooth.service.immediate_alert"},"1803":{"name":"Link Loss","type":"org.bluetooth.service.link_loss"},"1804":{"name":"Tx Power","type":"org.bluetooth.service.tx_power"},"1805":{"name":"Current Time Service","type":"org.bluetooth.service.current_time"},"1806":{"name":"Reference Time Update Service","type":"org.bluetooth.service.reference_time_update"},"1807":{"name":"Next DST Change Service","type":"org.bluetooth.service.next_dst_change"},"1808":{"name":"Glucose","type":"org.bluetooth.service.glucose"},"1809":{"name":"Health Thermometer","type":"org.bluetooth.service.health_thermometer"},"1810":{"name":"Blood Pressure","type":"org.bluetooth.service.blood_pressuer"},"1811":{"name":"Alert Notification Service","type":"org.bluetooth.service.alert_notification"},"1812":{"name":"Human Interface Device","type":"org.bluetooth.service.human_interface_device"},"1813":{"name":"Scan Parameters","type":"org.bluetooth.service.scan_parameters"},"1814":{"name":"Running Speed and Cadence","type":"org.bluetooth.service.running_speed_and_cadence"},"1815":{"name":"Automation IO","type":"org.bluetooth.service.automation_io"},"1816":{"name":"Cycling Speed and Cadence","type":"org.bluetooth.service.cycling_speed_and_cadence"},"1818":{"name":"Cycling Power","type":"org.bluetooth.service.cycling_power"},"1819":{"name":"Location and Navigation","type":"org.bluetooth.service.location_and_navigation"},"1820":{"name":"Internet Protocol Support","type":"org.bluetooth.service.internet_protocol_support"},"180a":{"name":"Device Information","type":"org.bluetooth.service.device_information"},"180d":{"name":"Heart Rate","type":"org.bluetooth.service.heart_rate"},"180e":{"name":"Phone Alert Status Service","type":"org.bluetooth.service.phone_alert_service"},"180f":{"name":"Battery Service","type":"org.bluetooth.service.battery_service"},"181a":{"name":"Environmental Sensing","type":"org.bluetooth.service.environmental_sensing"},"181b":{"name":"Body Composition","type":"org.bluetooth.service.body_composition"},"181c":{"name":"User Data","type":"org.bluetooth.service.user_data"},"181d":{"name":"Weight Scale","type":"org.bluetooth.service.weight_scale"},"181e":{"name":"Bond Management","type":"org.bluetooth.service.bond_management"},"181f":{"name":"Continuous Glucose Monitoring","type":"org.bluetooth.service.continuous_glucose_monitoring"}}')},function(e,t,r){(function(t,n){r(2)("characteristic");var i=r(1),o=r(3),s=r(44);function a(e,t,r,n,i){this._noble=e,this._peripheralId=t,this._serviceUuid=r,this.uuid=n,this.name=null,this.type=null,this.properties=i,this.descriptors=null;var o=s[n];o&&(this.name=o.name,this.type=o.type)}o.inherits(a,i.EventEmitter),a.prototype.toString=function(){return JSON.stringify({uuid:this.uuid,name:this.name,type:this.type,properties:this.properties})},a.prototype.read=function(e){if(e){var t=function(r,n){n||(this.removeListener("read",t),e(null,r))}.bind(this);this.on("read",t)}this._noble.read(this._peripheralId,this._serviceUuid,this.uuid)},a.prototype.write=function(e,r,i){if("browser"!==t.title&&!(e instanceof n))throw new Error("data must be a Buffer");i&&this.once("write",(function(){i(null)})),this._noble.write(this._peripheralId,this._serviceUuid,this.uuid,e,r)},a.prototype.broadcast=function(e,t){t&&this.once("broadcast",(function(){t(null)})),this._noble.broadcast(this._peripheralId,this._serviceUuid,this.uuid,e)},a.prototype.notify=function(e,t){t&&this.once("notify",(function(){t(null)})),this._noble.notify(this._peripheralId,this._serviceUuid,this.uuid,e)},a.prototype.subscribe=function(e){this.notify(!0,e)},a.prototype.unsubscribe=function(e){this.notify(!1,e)},a.prototype.discoverDescriptors=function(e){e&&this.once("descriptorsDiscover",(function(t){e(null,t)})),this._noble.discoverDescriptors(this._peripheralId,this._serviceUuid,this.uuid)},e.exports=a}).call(this,r(4),r(0).Buffer)},function(e){e.exports=JSON.parse('{"2a00":{"name":"Device Name","type":"org.bluetooth.characteristic.gap.device_name"},"2a01":{"name":"Appearance","type":"org.bluetooth.characteristic.gap.appearance"},"2a02":{"name":"Peripheral Privacy Flag","type":"org.bluetooth.characteristic.gap.peripheral_privacy_flag"},"2a03":{"name":"Reconnection Address","type":"org.bluetooth.characteristic.gap.reconnection_address"},"2a04":{"name":"Peripheral Preferred Connection Parameters","type":"org.bluetooth.characteristic.gap.peripheral_preferred_connection_parameters"},"2a05":{"name":"Service Changed","type":"org.bluetooth.characteristic.gatt.service_changed"},"2a06":{"name":"Alert Level","type":"org.bluetooth.characteristic.alert_level"},"2a07":{"name":"Tx Power Level","type":"org.bluetooth.characteristic.tx_power_level"},"2a08":{"name":"Date Time","type":"org.bluetooth.characteristic.date_time"},"2a09":{"name":"Day of Week","type":"org.bluetooth.characteristic.day_of_week"},"2a0a":{"name":"Day Date Time","type":"org.bluetooth.characteristic.day_date_time"},"2a0c":{"name":"Exact Time 256","type":"org.bluetooth.characteristic.exact_time_256"},"2a0d":{"name":"DST Offset","type":"org.bluetooth.characteristic.dst_offset"},"2a0e":{"name":"Time Zone","type":"org.bluetooth.characteristic.time_zone"},"2a0f":{"name":"Local Time Information","type":"org.bluetooth.characteristic.local_time_information"},"2a11":{"name":"Time with DST","type":"org.bluetooth.characteristic.time_with_dst"},"2a12":{"name":"Time Accuracy","type":"org.bluetooth.characteristic.time_accuracy"},"2a13":{"name":"Time Source","type":"org.bluetooth.characteristic.time_source"},"2a14":{"name":"Reference Time Information","type":"org.bluetooth.characteristic.reference_time_information"},"2a16":{"name":"Time Update Control Point","type":"org.bluetooth.characteristic.time_update_control_point"},"2a17":{"name":"Time Update State","type":"org.bluetooth.characteristic.time_update_state"},"2a18":{"name":"Glucose Measurement","type":"org.bluetooth.characteristic.glucose_measurement"},"2a19":{"name":"Battery Level","type":"org.bluetooth.characteristic.battery_level"},"2a1c":{"name":"Temperature Measurement","type":"org.bluetooth.characteristic.temperature_measurement"},"2a1d":{"name":"Temperature Type","type":"org.bluetooth.characteristic.temperature_type"},"2a1e":{"name":"Intermediate Temperature","type":"org.bluetooth.characteristic.intermediate_temperature"},"2a21":{"name":"Measurement Interval","type":"org.bluetooth.characteristic.measurement_interval"},"2a22":{"name":"Boot Keyboard Input Report","type":"org.bluetooth.characteristic.boot_keyboard_input_report"},"2a23":{"name":"System ID","type":"org.bluetooth.characteristic.system_id"},"2a24":{"name":"Model Number String","type":"org.bluetooth.characteristic.model_number_string"},"2a25":{"name":"Serial Number String","type":"org.bluetooth.characteristic.serial_number_string"},"2a26":{"name":"Firmware Revision String","type":"org.bluetooth.characteristic.firmware_revision_string"},"2a27":{"name":"Hardware Revision String","type":"org.bluetooth.characteristic.hardware_revision_string"},"2a28":{"name":"Software Revision String","type":"org.bluetooth.characteristic.software_revision_string"},"2a29":{"name":"Manufacturer Name String","type":"org.bluetooth.characteristic.manufacturer_name_string"},"2a2a":{"name":"IEEE 11073-20601 Regulatory Certification Data List","type":"org.bluetooth.characteristic.ieee_11073-20601_regulatory_certification_data_list"},"2a2b":{"name":"Current Time","type":"org.bluetooth.characteristic.current_time"},"2a2c":{"name":"Magnetic Declination","type":"org.bluetooth.characteristic.magnetic_declination"},"2a31":{"name":"Scan Refresh","type":"org.bluetooth.characteristic.scan_refresh"},"2a32":{"name":"Boot Keyboard Output Report","type":"org.bluetooth.characteristic.boot_keyboard_output_report"},"2a33":{"name":"Boot Mouse Input Report","type":"org.bluetooth.characteristic.boot_mouse_input_report"},"2a34":{"name":"Glucose Measurement Context","type":"org.bluetooth.characteristic.glucose_measurement_context"},"2a35":{"name":"Blood Pressure Measurement","type":"org.bluetooth.characteristic.blood_pressure_measurement"},"2a36":{"name":"Intermediate Cuff Pressure","type":"org.bluetooth.characteristic.intermediate_blood_pressure"},"2a37":{"name":"Heart Rate Measurement","type":"org.bluetooth.characteristic.heart_rate_measurement"},"2a38":{"name":"Body Sensor Location","type":"org.bluetooth.characteristic.body_sensor_location"},"2a39":{"name":"Heart Rate Control Point","type":"org.bluetooth.characteristic.heart_rate_control_point"},"2a3f":{"name":"Alert Status","type":"org.bluetooth.characteristic.alert_status"},"2a40":{"name":"Ringer Control Point","type":"org.bluetooth.characteristic.ringer_control_point"},"2a41":{"name":"Ringer Setting","type":"org.bluetooth.characteristic.ringer_setting"},"2a42":{"name":"Alert Category ID Bit Mask","type":"org.bluetooth.characteristic.alert_category_id_bit_mask"},"2a43":{"name":"Alert Category ID","type":"org.bluetooth.characteristic.alert_category_id"},"2a44":{"name":"Alert Notification Control Point","type":"org.bluetooth.characteristic.alert_notification_control_point"},"2a45":{"name":"Unread Alert Status","type":"org.bluetooth.characteristic.unread_alert_status"},"2a46":{"name":"New Alert","type":"org.bluetooth.characteristic.new_alert"},"2a47":{"name":"Supported New Alert Category","type":"org.bluetooth.characteristic.supported_new_alert_category"},"2a48":{"name":"Supported Unread Alert Category","type":"org.bluetooth.characteristic.supported_unread_alert_category"},"2a49":{"name":"Blood Pressure Feature","type":"org.bluetooth.characteristic.blood_pressure_feature"},"2a4a":{"name":"HID Information","type":"org.bluetooth.characteristic.hid_information"},"2a4b":{"name":"Report Map","type":"org.bluetooth.characteristic.report_map"},"2a4c":{"name":"HID Control Point","type":"org.bluetooth.characteristic.hid_control_point"},"2a4d":{"name":"Report","type":"org.bluetooth.characteristic.report"},"2a4e":{"name":"Protocol Mode","type":"org.bluetooth.characteristic.protocol_mode"},"2a4f":{"name":"Scan Interval Window","type":"org.bluetooth.characteristic.scan_interval_window"},"2a50":{"name":"PnP ID","type":"org.bluetooth.characteristic.pnp_id"},"2a51":{"name":"Glucose Feature","type":"org.bluetooth.characteristic.glucose_feature"},"2a52":{"name":"Record Access Control Point","type":"org.bluetooth.characteristic.record_access_control_point"},"2a53":{"name":"RSC Measurement","type":"org.bluetooth.characteristic.rsc_measurement"},"2a54":{"name":"RSC Feature","type":"org.bluetooth.characteristic.rsc_feature"},"2a55":{"name":"SC Control Point","type":"org.bluetooth.characteristic.sc_control_point"},"2a56":{"name":"Digital","type":"org.bluetooth.characteristic.digital"},"2a58":{"name":"Analog","type":"org.bluetooth.characteristic.analog"},"2a5a":{"name":"Aggregate","type":"org.bluetooth.characteristic.aggregate"},"2a5b":{"name":"CSC Measurement","type":"org.bluetooth.characteristic.csc_measurement"},"2a5c":{"name":"CSC Feature","type":"org.bluetooth.characteristic.csc_feature"},"2a5d":{"name":"Sensor Location","type":"org.bluetooth.characteristic.sensor_location"},"2a63":{"name":"Cycling Power Measurement","type":"org.bluetooth.characteristic.cycling_power_measurement"},"2a64":{"name":"Cycling Power Vector","type":"org.bluetooth.characteristic.cycling_power_vector"},"2a65":{"name":"Cycling Power Feature","type":"org.bluetooth.characteristic.cycling_power_feature"},"2a66":{"name":"Cycling Power Control Point","type":"org.bluetooth.characteristic.cycling_power_control_point"},"2a67":{"name":"Location and Speed","type":"org.bluetooth.characteristic.location_and_speed"},"2a68":{"name":"Navigation","type":"org.bluetooth.characteristic.navigation"},"2a69":{"name":"Position Quality","type":"org.bluetooth.characteristic.position_quality"},"2a6a":{"name":"LN Feature","type":"org.bluetooth.characteristic.ln_feature"},"2a6b":{"name":"LN Control Point","type":"org.bluetooth.characteristic.ln_control_point"},"2a6c":{"name":"Elevation","type":"org.bluetooth.characteristic.elevation"},"2a6d":{"name":"Pressure","type":"org.bluetooth.characteristic.pressure"},"2a6e":{"name":"Temperature","type":"org.bluetooth.characteristic.temperature"},"2a6f":{"name":"Humidity","type":"org.bluetooth.characteristic.humidity"},"2a70":{"name":"True Wind Speed","type":"org.bluetooth.characteristic.true_wind_speed"},"2a71":{"name":"True Wind Direction","type":"org.bluetooth.characteristic.true_wind_direction"},"2a72":{"name":"Apparent Wind Speed","type":"org.bluetooth.characteristic.apparent_wind_speed"},"2a73":{"name":"Apparent Wind Direction","type":"org.bluetooth.characteristic.apparent_wind_direction"},"2a74":{"name":"Gust Factor","type":"org.bluetooth.characteristic.gust_factor"},"2a75":{"name":"Pollen Concentration","type":"org.bluetooth.characteristic.pollen_concentration"},"2a76":{"name":"UV Index","type":"org.bluetooth.characteristic.uv_index"},"2a77":{"name":"Irradiance","type":"org.bluetooth.characteristic.irradiance"},"2a78":{"name":"Rainfall","type":"org.bluetooth.characteristic.rainfall"},"2a79":{"name":"Wind Chill","type":"org.bluetooth.characteristic.wind_chill"},"2a7a":{"name":"Heat Index","type":"org.bluetooth.characteristic.heat_index"},"2a7b":{"name":"Dew Point","type":"org.bluetooth.characteristic.dew_point"},"2a7d":{"name":"Descriptor Value Changed","type":"org.bluetooth.characteristic.descriptor_value_change"},"2a7e":{"name":"Aerobic Heart Rate Lower Limit","type":"org.bluetooth.characteristic.aerobic_heart_rate_lower_limit"},"2a7f":{"name":"Aerobic Threshold","type":"org.bluetooth.characteristic.aerobic_threshold"},"2a80":{"name":"Age","type":"org.bluetooth.characteristic.age"},"2a81":{"name":"Anaerobic Heart Rate Lower Limit","type":"org.bluetooth.characteristic.anaerobic_heart_rate_lower_limit"},"2a82":{"name":"Anaerobic Heart Rate Upper Limit","type":"org.bluetooth.characteristic.anaerobic_heart_rate_upper_limit"},"2a83":{"name":"Anaerobic Threshold","type":"org.bluetooth.characteristic.anaerobic_threshold"},"2a84":{"name":"Aerobic Heart Rate Upper Limit","type":"org.bluetooth.characteristic.aerobic_heart_rate_upper_limit"},"2a85":{"name":"Date of Birth","type":"org.bluetooth.characteristic.date_of_birth"},"2a86":{"name":"Date of Threshold Assessment","type":"org.bluetooth.characteristic.date_of_threshold_assessment"},"2a87":{"name":"Email Address","type":"org.bluetooth.characteristic.email_address"},"2a88":{"name":"Fat Burn Heart Rate Lower Limit","type":"org.bluetooth.characteristic.fat_burn_heart_lower_limit"},"2a89":{"name":"Fat Burn Heart Rate Upper Limit","type":"org.bluetooth.characteristic.fat_burn_heart_upper_limit"},"2a8a":{"name":"First Name","type":"org.bluetooth.characteristic.first_name"},"2a8b":{"name":"Five Zone Heart Rate Limits","type":"org.bluetooth.characteristic.five_zone_heart_rate_limits"},"2a8c":{"name":"Gender","type":"org.bluetooth.characteristic.gender"},"2a8d":{"name":"Heart Rate Max","type":"org.bluetooth.characteristic.heart_rate_max"},"2a8e":{"name":"Height","type":"org.bluetooth.characteristic.height"},"2a8f":{"name":"Hip Circumference","type":"org.bluetooth.characteristic.hip_circumference"},"2a90":{"name":"Last Name","type":"org.bluetooth.characteristic.last_name"},"2a91":{"name":"Maximum Recommended Heart Rate","type":"org.bluetooth.characteristic.maximum_recommended_heart_rate"},"2a92":{"name":"Resting Heart Rate","type":"org.bluetooth.characteristic.resting_heart_rate"},"2a93":{"name":"Sport Type for Aerobic and Anaerobic Threshold","type":"org.bluetooth.characteristic.sport_type_for_aerobic_and_anaerobic_threshold"},"2a94":{"name":"Three Zone Heart Rate Limits","type":"org.bluetooth.characteristic.three_zone_heart_rate_limits"},"2a95":{"name":"Two Zone Heart Rate Limit","type":"org.bluetooth.characteristic.two_zone_heart_rate_limit"},"2a96":{"name":"VO2 Max","type":"org.bluetooth.characteristic.vo2_max"},"2a97":{"name":"Waist Circumference","type":"org.bluetooth.characteristic.waist_circumference"},"2a98":{"name":"Weight","type":"org.bluetooth.characteristic.weight"},"2a99":{"name":"Database Change Increment","type":"org.bluetooth.characteristic.database_change_increment"},"2a9a":{"name":"User Index","type":"org.bluetooth.characteristic.user_index"},"2a9b":{"name":"Body Composition Feature","type":"org.bluetooth.characteristic.body_composition_feature"},"2a9c":{"name":"Body Composition Measurement","type":"org.bluetooth.characteristic.body_composition_measurement"},"2a9d":{"name":"Weight Measurement","type":"org.bluetooth.characteristic.weight_measurement"},"2a9e":{"name":"Weight Scale Feature","type":"org.bluetooth.characteristic.weight_scale_feature"},"2a9f":{"name":"User Control Point","type":"org.bluetooth.characteristic.user_control_point"},"2aa0":{"name":"Magnetic Flux Density - 2D","type":"org.bluetooth.characteristic.magnetic_flux_density_2d"},"2aa1":{"name":"Magnetic Flux Density - 3D","type":"org.bluetooth.characteristic.magnetic_flux_density_3d"},"2aa2":{"name":"Language","type":"org.bluetooth.characteristic.language"},"2aa3":{"name":"Barometric Pressure Trend","type":"org.bluetooth.characteristic.barometric_pressure_trend"},"2aa4":{"name":"Bond Management Control Point","type":"org.bluetooth.characteristic.bond_management_control_point"},"2aa5":{"name":"Bond Management Feature","type":"org.bluetooth.characteristic.bond_management_feature"},"2aa6":{"name":"Central Address Resolution","type":"org.bluetooth.characteristic.central_address_resolution"},"2aa7":{"name":"CGM Measurement","type":"org.bluetooth.characteristic.cgm_measurement"},"2aa8":{"name":"CGM Feature","type":"org.bluetooth.characteristic.cgm_feature"},"2aa9":{"name":"CGM Status","type":"org.bluetooth.characteristic.cgm_status"},"2aaa":{"name":"CGM Session Start Time","type":"org.bluetooth.characteristic.cgm_session_start_time"},"2aab":{"name":"CGM Session Run Time","type":"org.bluetooth.characteristic.cgm_session_run_time"},"2aac":{"name":"CGM Specific Ops Control Point","type":"org.bluetooth.characteristic.cgm_specific_ops_control_point"}}')},function(e,t,r){(function(t){r(2)("descriptor");var n=r(1),i=r(3),o=r(46);function s(e,t,r,n,i){this._noble=e,this._peripheralId=t,this._serviceUuid=r,this._characteristicUuid=n,this.uuid=i,this.name=null,this.type=null;var s=o[i];s&&(this.name=s.name,this.type=s.type)}i.inherits(s,n.EventEmitter),s.prototype.toString=function(){return JSON.stringify({uuid:this.uuid,name:this.name,type:this.type})},s.prototype.readValue=function(e){e&&this.once("valueRead",(function(t){e(null,t)})),this._noble.readValue(this._peripheralId,this._serviceUuid,this._characteristicUuid,this.uuid)},s.prototype.writeValue=function(e,r){if(!(e instanceof t))throw new Error("data must be a Buffer");r&&this.once("valueWrite",(function(){r(null)})),this._noble.writeValue(this._peripheralId,this._serviceUuid,this._characteristicUuid,this.uuid,e)},e.exports=s}).call(this,r(0).Buffer)},function(e){e.exports=JSON.parse('{"2900":{"name":"Characteristic Extended Properties","type":"org.bluetooth.descriptor.gatt.characteristic_extended_properties"},"2901":{"name":"Characteristic User Description","type":"org.bluetooth.descriptor.gatt.characteristic_user_description"},"2902":{"name":"Client Characteristic Configuration","type":"org.bluetooth.descriptor.gatt.client_characteristic_configuration"},"2903":{"name":"Server Characteristic Configuration","type":"org.bluetooth.descriptor.gatt.server_characteristic_configuration"},"2904":{"name":"Characteristic Presentation Format","type":"org.bluetooth.descriptor.gatt.characteristic_presentation_format"},"2905":{"name":"Characteristic Aggregate Format","type":"org.bluetooth.descriptor.gatt.characteristic_aggregate_format"},"2906":{"name":"Valid Range","type":"org.bluetooth.descriptor.valid_range"},"2907":{"name":"External Report Reference","type":"org.bluetooth.descriptor.external_report_reference"},"2908":{"name":"Report Reference","type":"org.bluetooth.descriptor.report_reference"},"2909":{"name":"Number of Digitals","type":"org.bluetooth.descriptor.number_of_digitals"},"290a":{"name":"Value Trigger Setting","type":"org.bluetooth.descriptor.value_trigger_setting"},"290b":{"name":"Environmental Sensing Configuration","type":"org.bluetooth.descriptor.environmental_sensing_configuration"},"290c":{"name":"Environmental Sensing Measurement","type":"org.bluetooth.descriptor.environmental_sensing_measurement"},"290d":{"name":"Environmental Sensing Trigger Setting","type":"org.bluetooth.descriptor.environmental_sensing_trigger_setting"},"290e":{"name":"Time Trigger Setting","type":"org.bluetooth.descriptor.time_trigger_setting"}}')},function(e,t,r){(function(t){e.exports=function(){return navigator.bluetooth&&!t.env.NOBLE_WEBSOCKET?r(48):r(49)}}).call(this,r(4))},function(e,t,r){(function(t,n){var i=r(3),o=r(1),s=r(2)("webble-bindings");function a(e){return{services:[e]}}function c(e){return e&&"string"==typeof e?(e&&32===e.length&&(e=e.substring(0,8)+"-"+e.substring(8,12)+"-"+e.substring(12,16)+"-"+e.substring(16,20)+"-"+e.substring(20)),e.toLowerCase()):e}var u=function(){this._ble=null,this._startScanCommand=null,this._peripherals={}};i.inherits(u,o.EventEmitter),u.prototype.init=function(e){this._ble=e||navigator.bluetooth;var r=this;t.nextTick((function(){if(s("initing"),!r._ble)return r.emit("error",new Error("This browser does not support WebBluetooth."));s("emit powered on"),r.emit("stateChange","poweredOn")}))},u.prototype.onOpen=function(){s("on -> open")},u.prototype.onClose=function(){s("on -> close"),this.emit("stateChange","poweredOff")},u.prototype.startScanning=function(e,t){var r=this;Array.isArray(e)&&(e={services:e}),"object"!=typeof e&&(e={services:e}),Array.isArray(e.services)||(e.services=[e.services]),e.services=e.services.map((function(e){return"string"==typeof e&&4===e.length?e=parseInt("0x"+e):"string"==typeof e&&6===e.length&&0===e.indexOf("0x")&&(e=parseInt(e)),e}));var n=e.services.map(c).map(a);e.name&&n.push({name:e.name}),e.namePrefix&&n.push({namePrefix:e.namePrefix});var i={filters:n};s("startScanning",i,t),this._ble.requestDevice(i).then((function(t){if(s("scan finished",t),r.emit("scanStop",{}),t){var n=t.id;r._peripherals[n]={uuid:n,address:n,advertisement:{localName:t.name},device:t,cachedServices:{},localName:t.name,serviceUuids:e.services},t.adData&&(r._peripherals[n].rssi=t.adData.rssi),r.emit("discover",t.id,t.id,t.addressType,!t.paired,r._peripherals[n].advertisement,r._peripherals[n].rssi)}})).catch((function(e){s("err scanning",e),r.emit("scanStop",{}),r.emit("error",e)})),this.emit("scanStart")},u.prototype.stopScanning=function(){this._startScanCommand=null,this.emit("scanStop")},u.prototype.connect=function(e){var t=this;s("connect",e);var r=this._peripherals[e];r.cachedServices={},r.device.gatt.connect().then((function(n){s("peripheral connected",n);r.device.addEventListener("gattserverdisconnected",(function(e){s("disconnected",r.uuid),t.emit("disconnect",r.uuid)}),{once:!0}),t.emit("connect",e)}),(function(r){s("err connecting",r),t.emit("connect",e,r)}))},u.prototype.disconnect=function(e){var t=this._peripherals[e];t.device.gatt&&(t.device.gatt.disconnect(),this.emit("disconnect",e))},u.prototype.updateRssi=function(e){this._peripherals[e]},u.prototype.discoverServices=function(e,t){var r=this._peripherals[e];r&&this.emit("servicesDiscover",e,r.serviceUuids)},u.prototype.discoverIncludedServices=function(e,t,r){this._peripherals[e]},u.prototype.discoverCharacteristics=function(e,t,r){var n=this,i=n._peripherals[e];i&&n.getPrimaryService(i,t).then((function(e){return e.getCharacteristics()})).then((function(r){var i=r.map((function(e){var t,r={uuid:(t=e.uuid,"string"==typeof t&&(t=t.split("-").join("")),t),properties:[]};return e.properties.writeWithoutResponse&&r.properties.push("writeWithoutResponse"),e.properties.write&&r.properties.push("write"),e.properties.read&&r.properties.push("read"),e.properties.notify&&r.properties.push("notify"),r}));s("discoverCharacteristics",e,t,i),n.emit("characteristicsDiscover",e,t,i)}))},u.prototype.getPrimaryService=function(e,t){return t=c(t),e.cachedServices[t]?new Promise((function(r,n){r(e.cachedServices[t])})):e.device.gatt.getPrimaryService(t).then((function(r){return e.cachedServices[t]=r,r}))},u.prototype.read=function(e,t,r){var i=this,o=this._peripherals[e];s("read",e,t,r),i.getPrimaryService(o,t).then((function(e){return e.getCharacteristic(c(r))})).then((function(e){return e.readValue()})).then((function(e){i.emit("read",o.uuid,t,r,new n(e.buffer),!1)})).catch((function(e){s("error reading characteristic",e),i.emit("error",e)}))},u.prototype.write=function(e,t,r,n,i){var o=this,a=this._peripherals[e];s("write",e,t,r,n,i),o.getPrimaryService(a,t).then((function(e){return e.getCharacteristic(c(r))})).then((function(e){return e.writeValue(n)})).then((function(){s("value written"),o.emit("write",a.uuid,t,r)})).catch((function(e){s("error writing to characteristic",t,r,e)}))},u.prototype.broadcast=function(e,t,r,n){this._peripherals[e]},u.prototype.notify=function(e,t,r,i){var o=this,a=this._peripherals[e],u=o.getPrimaryService(a,t).then((function(e){return e.getCharacteristic(c(r))}));a.notifcationListeners=a.notifcationListeners||{},i?u.then((function(e){return e.startNotifications()})).then((function(i){s("notifications started",r),a.notifcationListeners[t+"__"+r]=function(i){s("oncharacteristicvaluechanged",i,new n(i.target.value.buffer)),o.emit("read",e,t,r,new n(i.target.value.buffer),!0)},i.addEventListener("characteristicvaluechanged",a.notifcationListeners[t+"__"+r]);return a.device.addEventListener("gattserverdisconnected",(function(){i.removeEventListener("characteristicvaluechanged",a.notifcationListeners[t+"__"+r]),delete a.notifcationListeners[t+"__"+r]}),{once:!0}),o.emit("notify",e,t,r,!0),i})).catch((function(e){s("error enabling notifications on characteristic",e),o.emit("error",e)})):u.then((function(e){return e.stopNotifications()})).then((function(n){return s("notifications stopped",n),a.notifcationListeners[t+"__"+r]&&(n.removeEventListener("characteristicvaluechanged",a.notifcationListeners[t+"__"+r]),delete a.notifcationListeners[t+"__"+r]),o.emit("notify",e,t,r,!1),n})).catch((function(e){s("error disabling notifications on characteristic",e),o.emit("error",e)}))},u.prototype.discoverDescriptors=function(e,t,r){this._peripherals[e]},u.prototype.readValue=function(e,t,r,n){this._peripherals[e]},u.prototype.writeValue=function(e,t,r,n,i){this._peripherals[e]},u.prototype.readHandle=function(e,t){this._peripherals[e]},u.prototype.writeHandle=function(e,t,r,n){this._peripherals[e]};var h=new u;e.exports=h}).call(this,r(4),r(0).Buffer)},function(e,t,r){(function(t,n){var i=r(1),o=r(3),s=(r(2)("bindings"),r(!function(){var e=new Error("Cannot find module 'ws'");throw e.code="MODULE_NOT_FOUND",e}())),a=function(){this._ws=new s("ws://localhost:2846"),this._startScanCommand=null,this._peripherals={},this.on("message",this._onMessage.bind(this)),this._ws.on||(this._ws.on=this._ws.addEventListener),this._ws.on("open",this._onOpen.bind(this)),this._ws.on("close",this._onClose.bind(this)),this._ws.on("error",this._onClose.bind(this));var e=this;this._ws.on("message",(function(r){var n="browser"===t.title?r.data:r;e.emit("message",JSON.parse(n))}))};o.inherits(a,i.EventEmitter),a.prototype.init=function(){},a.prototype._onOpen=function(){console.log("on -> open")},a.prototype._onClose=function(){console.log("on -> close"),this.emit("stateChange","poweredOff")},a.prototype._onMessage=function(e){var t=e.type,r=e.peripheralUuid,i=e.address,o=e.addressType,s=e.connectable,a=e.advertisement,c=e.rssi,u=e.serviceUuids,h=e.serviceUuid,p=e.includedServiceUuids,l=e.characteristics,f=e.characteristicUuid,d=e.data?new n(e.data,"hex"):null,y=e.isNotification,m=e.state,g=e.descriptors,v=e.descriptorUuid,_=e.handle;"stateChange"===t?(console.log(m),this.emit("stateChange",m)):"discover"===t?(a={localName:a.localName,txPowerLevel:a.txPowerLevel,serviceUuids:a.serviceUuids,manufacturerData:a.manufacturerData?new n(a.manufacturerData,"hex"):null,serviceData:a.serviceData?new n(a.serviceData,"hex"):null},this._peripherals[r]={uuid:r,address:i,advertisement:a,rssi:c},this.emit("discover",r,i,o,s,a,c)):"connect"===t?this.emit("connect",r):"disconnect"===t?this.emit("disconnect",r):"rssiUpdate"===t?this.emit("rssiUpdate",r,c):"servicesDiscover"===t?this.emit("servicesDiscover",r,u):"includedServicesDiscover"===t?this.emit("includedServicesDiscover",r,h,p):"characteristicsDiscover"===t?this.emit("characteristicsDiscover",r,h,l):"read"===t?this.emit("read",r,h,f,d,y):"write"===t?this.emit("write",r,h,f):"broadcast"===t?this.emit("broadcast",r,h,f,m):"notify"===t?this.emit("notify",r,h,f,m):"descriptorsDiscover"===t?this.emit("descriptorsDiscover",r,h,f,g):"valueRead"===t?this.emit("valueRead",r,h,f,v,d):"valueWrite"===t?this.emit("valueWrite",r,h,f,v):"handleRead"===t?this.emit("handleRead",r,_,d):"handleWrite"===t?this.emit("handleWrite",r,_):"handleNotify"===t&&this.emit("handleNotify",r,_,d)},a.prototype._sendCommand=function(e,t){var r=JSON.stringify(e);this._ws.send(r,(function(r){null!=r&&(console.warn("could not send command",e,r),"function"==typeof t&&t(r))}))},a.prototype.startScanning=function(e,t){this._startScanCommand={action:"startScanning",serviceUuids:e,allowDuplicates:t},this._sendCommand(this._startScanCommand),this.emit("scanStart")},a.prototype.stopScanning=function(){this._startScanCommand=null,this._sendCommand({action:"stopScanning"}),this.emit("scanStop")},a.prototype.connect=function(e){var t=this._peripherals[e];this._sendCommand({action:"connect",peripheralUuid:t.uuid})},a.prototype.disconnect=function(e){var t=this._peripherals[e];this._sendCommand({action:"disconnect",peripheralUuid:t.uuid})},a.prototype.updateRssi=function(e){var t=this._peripherals[e];this._sendCommand({action:"updateRssi",peripheralUuid:t.uuid})},a.prototype.discoverServices=function(e,t){var r=this._peripherals[e];this._sendCommand({action:"discoverServices",peripheralUuid:r.uuid,uuids:t})},a.prototype.discoverIncludedServices=function(e,t,r){var n=this._peripherals[e];this._sendCommand({action:"discoverIncludedServices",peripheralUuid:n.uuid,serviceUuid:t,serviceUuids:r})},a.prototype.discoverCharacteristics=function(e,t,r){var n=this._peripherals[e];this._sendCommand({action:"discoverCharacteristics",peripheralUuid:n.uuid,serviceUuid:t,characteristicUuids:r})},a.prototype.read=function(e,t,r){var n=this._peripherals[e];this._sendCommand({action:"read",peripheralUuid:n.uuid,serviceUuid:t,characteristicUuid:r})},a.prototype.write=function(e,t,r,n,i){var o=this._peripherals[e];this._sendCommand({action:"write",peripheralUuid:o.uuid,serviceUuid:t,characteristicUuid:r,data:n.toString("hex"),withoutResponse:i})},a.prototype.broadcast=function(e,t,r,n){var i=this._peripherals[e];this._sendCommand({action:"broadcast",peripheralUuid:i.uuid,serviceUuid:t,characteristicUuid:r,broadcast:n})},a.prototype.notify=function(e,t,r,n){var i=this._peripherals[e];this._sendCommand({action:"notify",peripheralUuid:i.uuid,serviceUuid:t,characteristicUuid:r,notify:n})},a.prototype.discoverDescriptors=function(e,t,r){var n=this._peripherals[e];this._sendCommand({action:"discoverDescriptors",peripheralUuid:n.uuid,serviceUuid:t,characteristicUuid:r})},a.prototype.readValue=function(e,t,r,n){var i=this._peripherals[e];this._sendCommand({action:"readValue",peripheralUuid:i.uuid,serviceUuid:t,characteristicUuid:r,descriptorUuid:n})},a.prototype.writeValue=function(e,t,r,n,i){var o=this._peripherals[e];this._sendCommand({action:"writeValue",peripheralUuid:o.uuid,serviceUuid:t,characteristicUuid:r,descriptorUuid:n,data:i.toString("hex")})},a.prototype.readHandle=function(e,t){var r=this._peripherals[e];this._sendCommand({action:"readHandle",peripheralUuid:r.uuid,handle:t})},a.prototype.writeHandle=function(e,t,r,n){var i=this._peripherals[e];this._sendCommand({action:"writeHandle",peripheralUuid:i.uuid,handle:t,data:r.toString("hex"),withoutResponse:n})},e.exports=new a}).call(this,r(4),r(0).Buffer)},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),s=r(6),a=function(e){function t(t,r){void 0===t&&(t=1),void 0===r&&(r=s.Scanner.DEFAULT_TIMEOUT_MS);var n=e.call(this,r)||this;return n.peripherals=[],n.numberOfCoreCubes=1,n.scanningIntervalTimer=null,n.numberOfCoreCubes=t,n}return i(t,e),t.prototype.stop=function(){e.prototype.stop.call(this),null!==this.scanningIntervalTimer&&clearInterval(this.scanningIntervalTimer)},t.prototype.onDiscover=function(e){this.peripherals.push(e)},t.prototype.executor=function(e){var r=this;this.scanningIntervalTimer=setInterval((function(){r.peripherals.length<r.numberOfCoreCubes||e(r.peripherals.sort((function(e,t){return t.rssi-e.rssi})).slice(0,r.numberOfCoreCubes).map((function(e){return new o.Cube(e)})))}),t.SCAN_WINDOW_MS)},t.SCAN_WINDOW_MS=1e3,t}(s.Scanner);t.NearScanner=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),s=r(6),a=function(e){function t(t,r,n){void 0===r&&(r=!0),void 0===n&&(n=s.Scanner.DEFAULT_TIMEOUT_MS);var i=e.call(this,n)||this;return i.targets=t.map((function(e){return e.toLowerCase()})),i.fuzzy=r,i}return i(t,e),t.prototype.onDiscover=function(e){(this.match(e.address)||this.match(e.id))&&this.eventEmitter.emit("discover",new o.Cube(e))},t.prototype.executor=function(){},t.prototype.match=function(e){return this.fuzzy?this.targets.some((function(t){return e.startsWith(t)})):this.targets.includes(e)},t}(s.Scanner);t.IdAddressScanner=a}]);